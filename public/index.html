<!DOCTYPE html>
<html lang="en">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">

	<!-- OGP -->
	<meta property="og:title" content="Stat! Web" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://stat-web-6372a.web.app" />
	<meta property="og:image" content="https://stat-web-6372a.web.app/favicon.png" />
	<meta property="og:site_name" content="Stat! Web" />
	<meta property="og:description" content="Stat! Web is a Web RTC project made by hummingbird with ❤️." />

	<!-- OGP/Twitter -->
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@yhakamay" />

	<title>Stat! Web</title>

	<!-- Favicon -->
	<link rel="shortcut icon" href="favicon.png" type="image/x-icon">

	<!-- Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;900&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

	<!-- Stylesheets -->
	<link rel="stylesheet" href="styles.css">
</head>

<body>
	<div class="container">

		<!-- Join Area will dissapear once user joined meeting -->
		<div class="join-area">
			<img src="favicon.png" alt="" class="mx-auto d-block logo">
			<div style="height: 3rem;"></div>

			<!-- Join Meeting -->
			<form id="join-form" style="display: none;">
				<div class="row join-info-group">
					<div class="col-lg-4 col-md-6 mx-auto">
						<input class="form form-control" id="userNameJoin" type="text" placeholder="User Name" required
							autocomplete="off">
						<p class="tips">User Name is temporary.</p>
						<div class="button-group d-grid gap-2">
							<button id="join" type="submit" class="btn btn-primary">Join</button>
						</div>
					</div>
				</div>
			</form>

			<!-- Create a new Meeting -->
			<form id="create-form" style="display: none;">
				<div class="row join-info-group">
					<div class="col-lg-4 col-md-6 mx-auto">
						<input class="form form-control" id="userNameCreate" type="text" placeholder="User Name"
							required autocomplete="off">
						<p class="tips">User Name is temporary.</p>
						<div class="button-group d-grid gap-2">
							<button id="create" type="submit" class="btn btn-primary">Create</button>
						</div>
					</div>
				</div>
			</form>
		</div>

		<!-- Meeting Area shows up after user joined meeting -->
		<div class="meeting-area">
			<div class="row">

				<!-- Agenda -->
				<div class="col-md-4 mx-auto main-view" id="agenda-group">
					<h1>Agenda</h1>
					<h2 id="agenda-out"></h2>

					<div class="col-md-8 mx-auto main-controller">
						<input class="form form-control available-only-published" id="agenda-in" type="text"
							placeholder="Agenda" required autocomplete="off">
						<div class="button-group d-grid gap-2">
							<button id="set-agenda" class="btn btn-primary available-only-published">
								<img src="icons/send_black_24dp.svg" alt="" class="material-icons">
							</button>
						</div>
					</div>

				</div>

				<!-- Timer -->
				<div class="col-md-4 mx-auto main-view" id="timer-group">
					<h1>Timer</h1>
					<div id="clockdiv" class="">
						<div>
							<span class="minutes"></span>
							<div class="smalltext">Min</div>
						</div>
						<div>
							<span class="seconds"></span>
							<div class="smalltext">Sec</div>
						</div>
					</div>

					<div class="col-md-8 mx-auto main-controller">
						<div id="timer-slider">
							<input type="range" class="form-range available-only-published" min="1" max="30" value="5"
								step="1" id="timer-duration">
						</div>
						<div class="button-group d-grid gap-2">
							<button id="start-timer" class="btn btn-primary available-only-published">
								<img src="icons/play_arrow_black_24dp.svg" alt="" class="material-icons">
							</button>
							<button id="stop-timer" class="btn btn-primary available-only-published"
								style="display: none;">
								<img src="icons/stop_black_24dp.svg" alt="" class="material-icons">
							</button>
						</div>
					</div>
				</div>

				<!-- BGM -->
				<div class="col-md-4 mx-auto main-view" id="bgm-group">
					<h1>BGM</h1>

					<div class="col-md-8 mx-auto main-controller">
						<select id="bgm-selector" class="form-select col-md-4 mx-auto available-only-published">
							<option value="default" selected>Choose your motivation</option>
							<option value="natural">Be natural</option>
							<option value="relaxed">Be relaxed</option>
							<option value="focused">Be focused</option>
						</select>
						<div>
							<input type="range" class="form-range mt-3 available-only-published" min="0" max="1.0"
								value="0.1" step="0.01" id="bgm-volume">
						</div>
						<button id="play-button" class="btn btn-primary available-only-published"
							data-playing="preSelect" role="switch" aria-checked="false">
							<img src="icons/play_arrow_black_24dp.svg" id="playback-icon" alt="" class="material-icons">
						</button>
						<button id="stop-button" class="btn btn-primary available-only-published" disabled>
							<img src="icons/stop_black_24dp.svg" alt="" class="material-icons">
						</button>
					</div>
				</div>

				<!-- Talkdata Visualizer -->
				<div class="col-md-9 mx-auto mt-5" id="voice-visualizer-group">
					<canvas id="talk-amount-visualizer" height="40"></canvas>
				</div>
			</div>

			<!-- This local media player is enabled when the user has successfully joined a Video Call channel. -->
			<div id="video-group" class="row">
				<div class="col">
					<p id="local-player-reaction" class="reaction-text visible-only-published">😀</p>
					<p id="local-player-name" class="player-name visible-only-published"></p>
					<div class="video-wrapper mx-auto visible-only-published">
						<div id="local-player" class="player mx-auto"></div>
					</div>
				</div>
			</div>


		</div>

		<!-- Control button group -->
		<div class="row control-button-group">
			<div class="col-sm">
				<button class="btn btn-with-tooltip" id="copy-infos-to-clipboard">
					<span class="tooltiptext" id="meeting-infos-tooltip">
						Copy to clipboard
					</span>
					<img src="icons/share_black_24dp.svg" alt="" class="material-icons">
				</button>
			</div>
			<div class="col-sm">
				<button id="unpublish" type="button" class="btn btn-with-tooltip">
					<span class="tooltiptext" id="meeting-infos-tooltip">
						Stop your mic and camera
					</span>
					<img src="icons/block_black_24dp.svg" alt="" class="material-icons">
				</button>
			</div>
			<div class="col-sm">
				<button id="leave" type="button" class="btn btn-with-tooltip">
					<span class="tooltiptext" id="meeting-infos-tooltip">
						Leave this meeting
					</span>
					<img src="icons/call_end_black_24dp.svg" alt="" class="material-icons">
				</button>
			</div>
		</div>

		<!-- Feedback -->
		<a href="https://forms.gle/5prf8vyS73KygvdL9" target="_blank" rel="noopener noreferrer">
			<img src="icons/flag_black_24dp.svg" alt="" class="material-icons" id="feedback-icon">
		</a>

		<!-- View Source on GitHub -->
		<a href="https://github.com/hummingbird-jp/stat-web#readme" target="_blank" rel="noopener noreferrer">
			<svg id="github-icon" xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24"
				fill="aliceblue">
				<path
					d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
			</svg>
		</a>
	</div>

	<!-- jQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" defer></script>

	<!-- Bootstrap -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"
		defer></script>

	<!-- Agora SDK -->
	<script src="https://download.agora.io/sdk/release/AgoraRTC_N.js" defer></script>

	<!-- Firebase -->
	<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js" defer></script>
	<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-firestore.js" defer></script>
	<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-analytics.js" defer></script>
	<script src="./firebase/init.js" defer></script>
	<script src="./firebase/user-info.js" defer></script>

	<!-- Tensorflow -->
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs" defer></script>
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/blazeface" defer></script>

	<!-- Scripts -->
	<script src="./index.js" defer></script>
	<script src="./timer.js" defer></script>
	<script src="./agenda.js" defer></script>
	<script src="./bgm.js" defer></script>
	<script src="./voice-visualizer.js" defer></script>
	<script src="./reaction.js" defer></script>

</body>

</html>
